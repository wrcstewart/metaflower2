<!DOCTYPE html>
<html lang="en">


<style>
* {
  box-sizing: border-box;
    padding:0px;
    border:0px;
    margin:0px;
    list-style-position: inside;
    list-style-type:none

}

</style>

<body onload = "setUpPage()">



<textarea id="ta1"  onkeyup="isReturn(ev)" placeholder="enter text here"></textarea>
<textarea id="ta2"  placeholder="enter text here"></textarea>
<textarea id="ta3"  placeholder="transcript will appear here"></textarea>

<button id="but1" onclick="doBut1()">doBut1</button>


<div id = "tt">

 <ol id = "tl" reversed>


    </ol>

</div>

<form id="form" action="">
    <input id="input" autocomplete="off" /><button>Send</button>
</form>

<ul id="messages"></ul>

<!--
<script src="/socket.io/socket.io.js"></script>




<script>
    var socket = io();
    var form = document.getElementById('form');
    var input = document.getElementById('input');

    form.addEventListener('submit', function(e) {
        e.preventDefault();
        if (input.value) {
            socket.emit('chat message', input.value);
            input.value = '';
        }
    });

    socket.on('chat message', function(msg) {
        var item = document.createElement('li');
        item.textContent = msg;
        messages.appendChild(item);
        window.scrollTo(0, document.body.scrollHeight);
    });


//test change


</script>
-->
</body>

<script src="/socket.io/socket.io.js"></script>
<script>
    var socket = io();
    var form = document.getElementById('form');
    var input = document.getElementById('input');

    form.addEventListener('submit', function(e) {
        e.preventDefault();
        if (input.value) {
            socket.emit('chat message', input.value);
            input.value = '';
        }
    });
/*
    socket.on('chat message', function(msg) {
        var item = document.createElement('li');
        item.textContent = msg;
        messages.appendChild(item);
        //window.scrollTo(0, document.body.scrollHeight);


    });

 */

socket.on('chat message', function(msg) {

        let tl = document.getElementById("tl");

     let items = tl.getElementsByTagName("li");
     let lenList = items.length;
     let newIDNumber = lenList +1;
     let newID = "listItemID"+ newIDNumber;
     let htmlIdPhrase = "<li id=" +newID +">";



    let myString = msg;
    //ta3.value = ta3.value + myString;
   // tt.innerHTML =  myString + "<br>" + tt.innerHTML;

    tl.innerHTML = htmlIdPhrase + myString +"</li>" + tl.innerHTML;


    });



</script>

<script>
window.user1 = "user1";

function setStyle(elementId,left,width,top,height,bkColor){
    let el = document.getElementById(elementId);
    el.style.fontFamily = "Arial, Helvetica, sans-serif";
    el.style.position = "relative";
    el.style.left = left; el.style.width =width;
    el.style.top = top ; el.style.height = height;
    //el.innerText = "cat"


    el.style.backgroundColor = bkColor;
}//end setStyle

function setUpPage(){

    setStyle("ta1","0px","200px","0px","200px","DodgerBlue");
    setStyle("ta2","0px","200px","0px","200px","MediumSeaGreen");
    setStyle("ta3","0px","200px","0px","200px","LightGray");
    setStyle("tt","0px","200px","0px","100px","Gray");
    document.getElementById("tt").style.overflow = "scroll";
    setStyle("tl","0px","200px","0px","100px","navajowhite");

    document.getElementById("tl").style.overflow = "scroll";




    let ta1 = document.getElementById("ta1");
    ta1.addEventListener('keyup',logKey1);
}

function logKey1(e){

   var ta1 = document.getElementById("ta1");
    //var ta3 = document.getElementById("ta3");
     //ta3.innerText ="dog"

    if(e.keyCode === 13) {

        serviceReturnOn1()

    }





}

function serviceReturnOn1(){

    let ta1 = document.getElementById("ta1");

    let ta2 = document.getElementById("ta2");

    let ta3 = document.getElementById("ta3");

     let tt = document.getElementById("tt");

     let tl = document.getElementById("tl");

     let items = tl.getElementsByTagName("li");
     let lenList = items.length;
     let newIDNumber = lenList +1;
     let newID = "listItemID"+ newIDNumber;
     let htmlIdPhrase = "<li id=" +newID +">";



    let myString = ta1.value;
    //ta3.value = ta3.value + myString;
   // tt.innerHTML =  myString + "<br>" + tt.innerHTML;

    tl.innerHTML = htmlIdPhrase + myString +"</li>" + tl.innerHTML;



    socket.emit('chat message',myString );
   ta1.value = "";





    //alert(ta3.innerText);
    //alert(ta3.innerText)
    //alert("pressed")

}

function doBut1(){
/*
   ta2 = document.getElementById("ta2");
//ta2.value = "OOOOO";
    let ta3 = document.getElementById("ta3");

    let myString = ta2.value;

    ta3.value = ta3.value + myString;

*/
 //alert("test");
    let tl = document.getElementById("tl");
    let l1 = document.getElementById("listItemID2");
    //l1.style.listStyleType = "circle";
    l1.style.backgroundColor = "grey";
    l1.style.color ="darkslategrey";

    l1.style.fontFamily = "Arial, Helvetica, sans-serif";
    //l1.style.textShadow = "2px 0px #000000";
    //tl.style.listStylePosition = "inside";
    //tl.style.backgroundColor = "red";
}

//document.get

</script>

</html>